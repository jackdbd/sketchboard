(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,r){e.exports={board:"styles-module__board--1-URo"}},32:function(e,t,r){e.exports={"fallback-ui":"styles-module__fallback-ui--jafEg"}},41:function(e,t,r){e.exports=r(49)},48:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(57),a=r(1),c=r.n(a),o=r(26),l=r.n(o),i=r(19),s=r(3),u=r(54),p=function(e){var t=Object(a.useState)(e.getValue()),r=Object(s.a)(t,2),n=r[0],c=r[1];Object(a.useEffect)(function(){var t=e.pipe(Object(u.a)(1)).subscribe(function(e){return c(e)});return function(){return t.unsubscribe()}});return[n,function(t){return e.next(t)}]},d=r(55),b=r(58),f=r(56),m=r(27),v=function(e){var t=Object(s.a)(e,2),r=t[0],n=t[1],a=r.clientX,c=r.clientY;return{cx:a,cy:c,r:function(e,t){var r=Object(s.a)(e,2),n=r[0],a=r[1],c=Object(s.a)(t,2),o=c[0],l=c[1];return Math.sqrt(Math.pow(o-n,2)+Math.pow(l-a,2))}([a,c],[n.clientX,n.clientY])}},h=function(e){var t=Object(s.a)(e,3),r=t[0],n=t[1],a=t[2];return{p0:{x:r.clientX,y:r.clientY},p1:{x:n.clientX,y:n.clientY},p2:{x:a.clientX,y:a.clientY}}};var g,E=function(e){return[e[0][0],e[0][1],e[1][1]]},y=function(e){return t=e,Object(d.a)(t,"click");var t},O=new b.a({circlesDrawn:0,clickCount:0,coordinates:[],lastClick:[0,0],trianglesDrawn:0}),w={fill:"#FF5722",opacity:"1",stroke:"#6A1B9A","stroke-dasharray":void 0,"stroke-opacity":void 0,"stroke-width":"10px"},k=new b.a(w),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return e.setAttribute("fill",t.fill||""),e.setAttribute("opacity",t.opacity||""),e.setAttribute("stroke",t.stroke||""),e.setAttribute("stroke-dasharray",t["stroke-dasharray"]||""),e.setAttribute("stroke-opacity",t["stroke-opacity"]||""),e.setAttribute("stroke-width",t["stroke-width"]||""),e},C=function(e,t,r){e.appendChild(function(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","circle");return r.setAttribute("cx","".concat(e.cx)),r.setAttribute("cy","".concat(e.cy)),r.setAttribute("r","".concat(e.r)),r=j(r,t)}(t,r))},x=function(e,t,r){e.appendChild(function(e,t){var r=e.p0,n=e.p1,a=e.p2,c=document.createElementNS("http://www.w3.org/2000/svg","polygon");return c.setAttribute("points","".concat(r.x,",").concat(r.y," ").concat(n.x,",").concat(n.y," ").concat(a.x,",").concat(a.y)),c=j(c,t)}(t,r))};!function(e){e.BezierCurve="Bezier Curve",e.Circle="Circle",e.Rectangle="Rectangle",e.Triangle="Triangle"}(g||(g={}));var S={dropdownChangesCount:0,shape:g.Circle},D=new b.a(S),R=r(8),T=function(){var e=p(D),t=Object(s.a)(e,2),r=t[0],n=t[1];return c.a.createElement("div",{className:Object(R.a)("font-size:biggish")},c.a.createElement("label",{htmlFor:"shape-select-id"},"shape-selector"),c.a.createElement("div",{className:"box"},c.a.createElement("select",{id:"shape-select-id","data-testid":"sidebar-select-test-id",name:"shape-selector",onChange:function(e){n({dropdownChangesCount:r.dropdownChangesCount+1,shape:e.target.value})}},c.a.createElement("option",{value:g.Circle},"Circle"),c.a.createElement("option",{value:g.Triangle},"Triangle"),c.a.createElement("option",{value:g.Rectangle},"Rectangle"),c.a.createElement("option",{value:g.BezierCurve},"Bezier Curve"))))},P=r(28),A=r.n(P);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var z,B=function(){var e=p(O),t=Object(s.a)(e,2),r=t[0],n=t[1],o=p(D),l=Object(s.a)(o,1)[0].shape,i=p(k),u=Object(s.a)(i,1)[0],d=Object(a.useRef)(null),b=Object(a.useRef)(null);Object(a.useEffect)(function(){if(!d.current)throw new Error("ASSERT: ref NOT ready!");if(!b.current)throw new Error("ASSERT: ref NOT ready!");var e,t;switch(l){case g.Circle:var a=(t=d.current,y(t).pipe(Object(f.a)(),Object(m.a)(v)));e=a.subscribe(function(e){b.current&&C(b.current,e,u),n(I({},r,{circlesDrawn:r.circlesDrawn+1,clickCount:r.clickCount+2}))});break;case g.Triangle:var c=function(e){return y(e).pipe(Object(f.a)(),Object(f.a)(),Object(m.a)(E),Object(m.a)(h))}(d.current);e=c.subscribe(function(e){b.current&&x(b.current,e,u),n(I({},r,{clickCount:r.clickCount+3,trianglesDrawn:r.trianglesDrawn+1}))});break;default:var o="TODO: ".concat(l," not yet implemented");throw new Error(o)}return function(){e&&e.unsubscribe()}},[n,l,u,r]);return c.a.createElement("div",{className:A.a.board,"data-testid":"board-container-test-id",onClick:function(e){var t=function(e){var t=e.target.getBoundingClientRect(),r=e.clientX,n=e.clientY;return[r-t.left,n-t.top]}(e),r=Object(s.a)(t,2),n=r[0],a=r[1];console.log("onClick",n,a)},ref:d},c.a.createElement("svg",{"data-testid":"board-svg-test-id",height:"100%",preserveAspectRatio:"xMinYMin meet",ref:b,width:"100%"}))},F=r(29),X=r(30),Y=r(37),M=r(31),_=r(38),q=r(7),G=r(32),J=r.n(G),V=function(e){var t=e.error,r=e.errorInfo,n=e.eventId,a=e.onReportCrashButtonClick;return c.a.createElement("div",{className:J.a["fallback-ui"],"data-testid":"fallback-ui-div-container-test-id"},c.a.createElement("h1",null,"Something went wrong."),c.a.createElement("details",null,t.toString(),c.a.createElement("br",null),r&&r.componentStack),n&&c.a.createElement("button",{onClick:a},"Report feedback"))},L=function(e){function t(e){var r;return Object(F.a)(this,t),(r=Object(Y.a)(this,Object(M.a)(t).call(this,e))).onReportCrash=function(){n.b({eventId:r.state.eventId})},r.state={error:void 0,errorInfo:void 0,eventId:void 0},r}return Object(_.a)(t,e),Object(X.a)(t,[{key:"componentDidCatch",value:function(e,t){var r=this;q.b(function(n){n.setExtras(t);var a=q.a(e);r.setState({error:e,errorInfo:t,eventId:a})})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.debug,n=this.state,a=n.error,o=n.errorInfo,l=n.eventId;return a&&r&&console.error("--- ERROR ---",a),a?c.a.createElement(V,{error:a,errorInfo:o,eventId:l,onReportCrashButtonClick:this.onReportCrash}):c.a.createElement(c.a.Fragment,null,t)}}]),t}(c.a.Component),U=function(){return c.a.createElement(L,{debug:!0},c.a.createElement(B,null))},W=r(35),H=r(36),K=function(){var e=document.querySelector("svg");e&&Object(H.saveSvgAsPng)(e,"drawing.png",{scale:.5})},Q=function(){var e=document.querySelector("svg");if(e){var t=new XMLSerializer,r=new Blob([t.serializeToString(e)],{type:"image/svg+xml"});Object(W.saveAs)(r,"disegno.svg")}},Z=function(){return c.a.createElement("div",{className:Object(R.a)("font-size:biggish")},c.a.createElement("label",null,"Exports"),c.a.createElement("div",{className:Object(R.a)("box","stack"),style:{display:"flex",flexDirection:"column"}},c.a.createElement("button",{onClick:Q,style:{fontSize:"1em"},type:"button"},"Save as SVG"),c.a.createElement("button",{onClick:K,style:{fontSize:"1em"},type:"button"},"Save as PNG")))},$=function(){var e=p(O),t=Object(s.a)(e,1)[0],r=t.circlesDrawn,n=t.clickCount,a=t.trianglesDrawn,o=p(D),l=Object(s.a)(o,1)[0].shape;return c.a.createElement("div",{className:"stack"},c.a.createElement("p",null,"Selected shape: ".concat(l)),c.a.createElement("p",null,"Click count: ".concat(n)),c.a.createElement("p",null,"Circles drawn: ".concat(r)),c.a.createElement("p",null,"Triangles drawn: ".concat(a)))};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){e.One="5,5",e.Two="10,10",e.Three="20,10,5,5,5,10"}(z||(z={}));var re=function(){var e=p(D),t=Object(s.a)(e,1)[0].shape,r=p(k),n=Object(s.a)(r,2),a=n[0],o=n[1];return c.a.createElement("div",{className:"font-size:biggish"},c.a.createElement("label",null,"Config style for ".concat(t)),c.a.createElement("div",{className:Object(R.a)("box")},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"fill"},"fill"),c.a.createElement("input",{name:"fill",onChange:function(e){o(te({},a,{fill:e.target.value}))},placeholder:"e.g. #ff0000, red",type:"text",value:a.fill})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"opacity"},"opacity"),c.a.createElement("input",{name:"opacity",onChange:function(e){o(te({},a,{opacity:e.target.value}))},placeholder:"e.g. 0.5",type:"text",value:a.opacity})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stroke"},"stroke"),c.a.createElement("input",{name:"stroke",onChange:function(e){o(te({},a,{stroke:e.target.value}))},placeholder:"e.g. #ff0000, red",type:"text",value:a.stroke})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stroke-dasharray"},"stroke-dasharray"),c.a.createElement("select",{name:"stroke-dasharray",onChange:function(e){var t=e.nativeEvent.srcElement.options;o(te({},a,{"stroke-dasharray":t[t.selectedIndex].value}))}},c.a.createElement("option",{value:z.One},"One"),c.a.createElement("option",{value:z.Two},"Two"),c.a.createElement("option",{value:z.Three},"Three"))),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stroke-opacity"},"stroke-opacity"),c.a.createElement("input",{name:"stroke-opacity",onChange:function(e){o(te({},a,{"stroke-opacity":e.target.value}))},placeholder:"e.g. 0.5",style:{maxWidth:"5rem"},type:"text",value:a["stroke-opacity"]})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"stroke-width"},"stroke-width"),c.a.createElement("input",{name:"stroke-width",onChange:function(e){o(te({},a,{"stroke-width":e.target.value}))},placeholder:"e.g. 20px",type:"text",value:a["stroke-width"]}))))},ne=function(){return c.a.createElement("div",{className:Object(R.a)("stack"),"data-testid":"sidebar-container-test-id"},c.a.createElement(T,null),c.a.createElement(re,null),c.a.createElement(Z,null),c.a.createElement($,null))},ae=function(e){var t=e.children,r=e.noStretch,n=e.side;return Object(a.useEffect)(function(){if(2!==t.length)throw new Error("The Sidebar layout must have exactly 2 children")},[t,n]),c.a.createElement("div",{className:Object(R.a)("with-sidebar-on-the-".concat(n)),style:{height:"100%",flexGrow:1}},c.a.createElement("div",{className:Object(R.a)(r?"not-stretched-wrapper":"stretched-wrapper")},t))};r(48);n.a({dsn:"https://94f09b0a51c74127b82e3fa4d47857c2@sentry.io/1547393"}),l.a.render(c.a.createElement(function(){return c.a.createElement(ae,{side:"right"},c.a.createElement(U,null),c.a.createElement(ne,null))},null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.d3f89591.chunk.js.map