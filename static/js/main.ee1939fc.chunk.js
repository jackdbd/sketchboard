(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports={board:"styles-module__board--1-URo"}},33:function(e,t,n){e.exports={"fallback-ui":"styles-module__fallback-ui--jafEg"}},41:function(e,t,n){e.exports=n(49)},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(57),a=n(1),c=n.n(a),o=n(24),i=n.n(o),l=n(25),s=n(7),u=n(54),b=function(e){var t=Object(a.useState)(e.getValue()),n=Object(s.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)(function(){var t=e.pipe(Object(u.a)(1)).subscribe(function(e){return c(e)});return function(){return t.unsubscribe()}});return[r,function(t){return e.next(t)}]},d=n(55),f=n(58),p=n(56),v=n(26),m=function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1],a=n.clientX,c=n.clientY;return{cx:a,cy:c,r:function(e,t){var n=Object(s.a)(e,2),r=n[0],a=n[1],c=Object(s.a)(t,2),o=c[0],i=c[1];return Math.sqrt(Math.pow(o-r,2)+Math.pow(i-a,2))}([a,c],[r.clientX,r.clientY])}},h=function(e){var t=Object(s.a)(e,3),n=t[0],r=t[1],a=t[2];return{p0:{x:n.clientX,y:n.clientY},p1:{x:r.clientX,y:r.clientY},p2:{x:a.clientX,y:a.clientY}}};var g,O=function(e){return[e[0][0],e[0][1],e[1][1]]},w=function(e){return t=e,Object(d.a)(t,"click");var t},E=new f.a({circlesDrawn:0,clickCount:0,coordinates:[],lastClick:[0,0],trianglesDrawn:0}),j=function(e,t){e.appendChild(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx","".concat(e.cx)),t.setAttribute("cy","".concat(e.cy)),t.setAttribute("r","".concat(e.r)),t.setAttribute("fill","red"),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","20px"),t.setAttribute("stroke-opacity","0.5"),t}(t))},y=function(e,t){e.appendChild(function(e){var t=e.p0,n=e.p1,r=e.p2,a=document.createElementNS("http://www.w3.org/2000/svg","polygon");return a.setAttribute("points","".concat(t.x,",").concat(t.y," ").concat(n.x,",").concat(n.y," ").concat(r.x,",").concat(r.y)),a.setAttribute("fill","green"),a.setAttribute("stroke","orange"),a.setAttribute("stroke-width","20px"),a.setAttribute("stroke-opacity","0.5"),a}(t))},C=n(8),k=n(27),S=n(28),x=function(){var e=document.querySelector("svg");e&&Object(S.saveSvgAsPng)(e,"drawing.png",{scale:.5})},R=function(){var e=document.querySelector("svg");if(e){var t=new XMLSerializer,n=new Blob([t.serializeToString(e)],{type:"image/svg+xml"});Object(k.saveAs)(n,"disegno.svg")}},A=function(){return c.a.createElement("div",{className:Object(C.a)("font-size:biggish")},c.a.createElement("label",null,"Exports"),c.a.createElement("div",{className:Object(C.a)("box","stack"),style:{display:"flex",flexDirection:"column"}},c.a.createElement("button",{onClick:R,style:{fontSize:"1em"},type:"button"},"Save as SVG"),c.a.createElement("button",{onClick:x,style:{fontSize:"1em"},type:"button"},"Save as PNG")))};!function(e){e.BezierCurve="Bezier Curve",e.Circle="Circle",e.Rectangle="Rectangle",e.Triangle="Triangle"}(g||(g={}));var N={dropdownChangesCount:0,shape:g.Circle},D=new f.a(N),I=function(e){var t=e.label,n=b(D),r=Object(s.a)(n,2),a=r[0],o=r[1],i=a.dropdownChangesCount,l=a.shape;return c.a.createElement("div",{className:Object(C.a)("stack"),"data-testid":"sidebar-container-test-id"},c.a.createElement("div",{className:Object(C.a)("stack-small")},c.a.createElement("label",{htmlFor:"shape-select-id"},t),c.a.createElement("select",{id:"shape-select-id","data-testid":"sidebar-select-test-id",name:"shape-selector",onChange:function(e){o({dropdownChangesCount:a.dropdownChangesCount+1,shape:e.target.value})}},c.a.createElement("option",{value:g.Circle},"Circle"),c.a.createElement("option",{value:g.Triangle},"Triangle"),c.a.createElement("option",{value:g.Rectangle},"Rectangle"),c.a.createElement("option",{value:g.BezierCurve},"Bezier Curve"))),c.a.createElement("div",{className:Object(C.a)("stack-large")},c.a.createElement("p",null,"You selected ".concat(l)),c.a.createElement("p",null,"You changed shape ".concat(i," times"))),c.a.createElement(A,null))},T=n(29),P=n.n(T);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y=function(){var e=b(E),t=Object(s.a)(e,2),n=t[0],r=t[1],o=b(D),i=Object(s.a)(o,1)[0].shape,l=Object(a.useRef)(null),u=Object(a.useRef)(null);Object(a.useEffect)(function(){if(!l.current)throw new Error("ASSERT: ref NOT ready!");if(!u.current)throw new Error("ASSERT: ref NOT ready!");var e,t;switch(i){case g.Circle:var a=(t=l.current,w(t).pipe(Object(p.a)(),Object(v.a)(m)));e=a.subscribe(function(e){u.current&&j(u.current,e),r(B({},n,{circlesDrawn:n.circlesDrawn+1,clickCount:n.clickCount+2}))});break;case g.Triangle:var c=function(e){return w(e).pipe(Object(p.a)(),Object(p.a)(),Object(v.a)(O),Object(v.a)(h))}(l.current);e=c.subscribe(function(e){u.current&&y(u.current,e),r(B({},n,{clickCount:n.clickCount+3,trianglesDrawn:n.trianglesDrawn+1}))});break;default:var o="TODO: ".concat(i," not yet implemented");throw new Error(o)}return function(){e&&e.unsubscribe()}},[r,i,n]);return c.a.createElement("div",{className:P.a.board,"data-testid":"board-container-test-id",onClick:function(e){var t=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX,r=e.clientY;return[n-t.left,r-t.top]}(e),n=Object(s.a)(t,2),r=n[0],a=n[1];console.log("onClick",r,a)},ref:l},c.a.createElement("svg",{"data-testid":"board-svg-test-id",height:"100%",preserveAspectRatio:"xMinYMin meet",ref:u,width:"100%"}))},X=n(30),M=n(31),_=n(36),q=n(32),G=n(37),F=n(6),J=n(33),V=n.n(J),L=function(e){var t=e.error,n=e.errorInfo,r=e.eventId,a=e.onReportCrashButtonClick;return c.a.createElement("div",{className:V.a["fallback-ui"],"data-testid":"fallback-ui-div-container-test-id"},c.a.createElement("h1",null,"Something went wrong."),c.a.createElement("details",null,t.toString(),c.a.createElement("br",null),n&&n.componentStack),r&&c.a.createElement("button",{onClick:a},"Report feedback"))},U=function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object(_.a)(this,Object(q.a)(t).call(this,e))).onReportCrash=function(){r.b({eventId:n.state.eventId})},n.state={error:void 0,errorInfo:void 0,eventId:void 0},n}return Object(G.a)(t,e),Object(M.a)(t,[{key:"componentDidCatch",value:function(e,t){var n=this;F.b(function(r){r.setExtras(t);var a=F.a(e);n.setState({error:e,errorInfo:t,eventId:a})})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.debug,r=this.state,a=r.error,o=r.errorInfo,i=r.eventId;return a&&n&&console.error("--- ERROR ---",a),a?c.a.createElement(L,{error:a,errorInfo:o,eventId:i,onReportCrashButtonClick:this.onReportCrash}):c.a.createElement(c.a.Fragment,null,t)}}]),t}(c.a.Component),H=function(){return c.a.createElement(U,{debug:!0},c.a.createElement(Y,null))},K=function(e){var t=e.children,n=e.noStretch,r=e.side;return Object(a.useEffect)(function(){if(2!==t.length)throw new Error("The Sidebar layout must have exactly 2 children")},[t,r]),c.a.createElement("div",{className:Object(C.a)("with-sidebar-on-the-".concat(r)),style:{height:"100%",flexGrow:1}},c.a.createElement("div",{className:Object(C.a)(n?"not-stretched-wrapper":"stretched-wrapper")},t))};n(48);r.a({dsn:"https://94f09b0a51c74127b82e3fa4d47857c2@sentry.io/1547393"}),i.a.render(c.a.createElement(function(){return c.a.createElement(K,{side:"right"},c.a.createElement(H,null),c.a.createElement(I,{label:"some label"}))},null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ee1939fc.chunk.js.map